let h=[];const F=new WeakMap;function R(){h.forEach(t=>t(...F.get(t))),h=[]}function N(t,...e){F.set(t,e),!h.includes(t)&&h.push(t)===1&&requestAnimationFrame(R)}function q(t,e){let{target:n}=t;for(;n;){if(n.dataset&&n.dataset[e]!==void 0)return!0;n=n.parentElement}return!1}function O(t){return t.composedPath()[0]||null}function P(t,e){const n=t.trim().split(/\s+/g),r={top:n[0]};switch(n.length){case 1:r.right=n[0],r.bottom=n[0],r.left=n[0];break;case 2:r.right=n[1],r.left=n[1],r.bottom=n[0];break;case 3:r.right=n[1],r.bottom=n[2],r.left=n[1];break;case 4:r.right=n[1],r.bottom=n[2],r.left=n[3];break;default:throw new Error("[seemly/getMargin]:"+t+" is not a valid value.")}return e===void 0?r:r[e]}const w={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},f="^\\s*",$="\\s*$",u="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",c="([0-9A-Fa-f])",o="([0-9A-Fa-f]{2})",A=new RegExp(`${f}rgb\\s*\\(${u},${u},${u}\\)${$}`),E=new RegExp(`${f}rgba\\s*\\(${u},${u},${u},${u}\\)${$}`),y=new RegExp(`${f}#${c}${c}${c}${$}`),C=new RegExp(`${f}#${o}${o}${o}${$}`),M=new RegExp(`${f}#${c}${c}${c}${c}${$}`),I=new RegExp(`${f}#${o}${o}${o}${o}${$}`);function a(t){return parseInt(t,16)}function l(t){try{let e;if(e=C.exec(t))return[a(e[1]),a(e[2]),a(e[3]),1];if(e=A.exec(t))return[s(e[1]),s(e[5]),s(e[9]),1];if(e=E.exec(t))return[s(e[1]),s(e[5]),s(e[9]),g(e[13])];if(e=y.exec(t))return[a(e[1]+e[1]),a(e[2]+e[2]),a(e[3]+e[3]),1];if(e=I.exec(t))return[a(e[1]),a(e[2]),a(e[3]),g(a(e[4])/255)];if(e=M.exec(t))return[a(e[1]+e[1]),a(e[2]+e[2]),a(e[3]+e[3]),g(a(e[4]+e[4])/255)];if(t in w)return l(w[t]);throw new Error(`[seemly/rgba]: Invalid color value ${t}.`)}catch(e){throw e}}function v(t){return t>1?1:t<0?0:t}function d(t,e,n,r){return`rgba(${s(t)}, ${s(e)}, ${s(n)}, ${v(r)})`}function m(t,e,n,r,i){return s((t*e*(1-r)+n*r)/i)}function S(t,e){Array.isArray(t)||(t=l(t)),Array.isArray(e)||(e=l(e));const n=t[3],r=e[3],i=g(n+r-n*r);return d(m(t[0],n,e[0],r,i),m(t[1],n,e[1],r,i),m(t[2],n,e[2],r,i),i)}function k(t,e){const[n,r,i,x=1]=Array.isArray(t)?t:l(t);return e.alpha?d(n,r,i,e.alpha):d(n,r,i,x)}function z(t,e){const[n,r,i,x=1]=Array.isArray(t)?t:l(t),{lightness:p=1,alpha:b=1}=e;return H([n*p,r*p,i*p,x*b])}function g(t){const e=Math.round(Number(t)*100)/100;return e>1?1:e<0?0:e}function s(t){const e=Math.round(Number(t));return e>255?255:e<0?0:e}function H(t){const[e,n,r]=t;return 3 in t?`rgba(${s(e)}, ${s(n)}, ${s(r)}, ${g(t[3])})`:`rgba(${s(e)}, ${s(n)}, ${s(r)}, 1)`}function T(t=8){return Math.random().toString(16).slice(2,2+t)}export{k as a,P as b,S as c,T as d,N as e,O as g,q as h,l as r,z as s};
